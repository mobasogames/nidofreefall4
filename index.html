<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000;
            color: #fff;
            font-family: Arial, sans-serif;
        }
        #loadingBar {
            width: 100%;
            height: 5px;
            background-color: #fff;
        }
    </style>
</head>
<body>
    <div id="loadingBar"></div>
    <script>
        var Module = {
            preRun: [],
            postRun: [],
            print: (function() {
                return function(text) {
                    console.log(text);
                };
            })(),
            printErr: function(text) {
                console.error(text);
            },
            canvas: (function() {
                var canvas = document.createElement('canvas');
                document.body.appendChild(canvas);
                return canvas;
            })(),
            setStatus: function(text) {
                if (!Module.setStatus.last) {
                    Module.setStatus.last = {
                        time: Date.now(),
                        text: ''
                    };
                }
                if (text === Module.setStatus.last.text) {
                    return;
                }
                Module.setStatus.last.text = text;
                console.log(text);
            },
            totalDependencies: 0,
            monitorRunDependencies: function(left) {
                this.totalDependencies = Math.max(this.totalDependencies, left);
                Module.setStatus(left ? 'Loading... (' + (this.totalDependencies - left) + '/' + this.totalDependencies + ')' : 'All downloads complete.');
            }
        };
        Module.setStatus('Downloading...');
    </script>
    <script src="Build/UnityLoader.js"></script>
    <script>
        createUnityInstance(document.querySelector("#loadingBar"), {
            dataUrl: "Build/mygame.data",
            frameworkUrl: "Build/mygame.framework.js",
            codeUrl: "Build/mygame.wasm"
        }).then((unityInstance) => {
            // Unity instance is ready
        }).catch((message) => {
            console.error(message);
        });
    </script>
</body>
</html>
